<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>book warehouse</nav>
    <main>
        <form>
            <!-- Title -->
            <div id="">
                <h4>Title</h4>
                <input type="text" placeholder="" id="Title-input">
                <p id="Title-check"></p>
            </div>
            <!-- Writer -->
            <div id="">
                <h4>Writer</h4>
                    <input type="text" placeholder="" id="Writer-input">
                <p id="Writer-check"></p>
            </div>
            <!-- Price -->
            <div id="">
                <h4>Price</h4>
                    <input type="text" placeholder="" id="Price-input">
                <p id="Price-check"></p>
            </div>
            <!-- Date -->
            <div id="">
                <h4>Date</h4>
                    <input type="date" placeholder="" id="Date-input" >
                <p id="Date-check"></p>
            </div>
            <!-- Language -->
            <div id="">
                <h4>Language</h4>
                <select id="select" style="padding-right: 7px; height: 30px;">
                    <option disabled selected hidden value  >~ Choose a language ~</option>
                    <option value="English">English</option>
                    <option value="French">French</option>
                    <option value="Arabic">Arabic</option>
                </select>
                <span id="slc"></span>
            </div>
            <!-- book type -->
            <div id="radio">
                <p style="color: white;">Type:</p>
                <div>
                <h4>Novel</h4>
                <input class="radio" type="radio" name="myRadio" value="Novel">
                <h4>Essay</h4>
                <input class="radio" type="radio" name="myRadio" value="Essay">
                <h4>Comics</h4>
                <input class="radio" type="radio" name="myRadio" value="Comics">
                </div>
                <span id="rdo"></span>
            </div>
            <input type="button" value="Submit" onclick="clic()" id="btn">
        </form>





    <div id="table">
        <table id="tbl">
            <tr id="titles">
                <th class="ths">Title</th>
                <th class="ths">Writer</th>
                <th class="ths">Price</th>
                <th class="ths">Date</th>
                <th class="ths">Language</th>
                <th class="ths">Type</th>
                <th class="ths">Controle</th>
            </tr>
                <!-- <label>Title<th id="title-output"></td></label>
                <label>Writer<td id="writer-output"></td></label>
                <label>Price<td id="price-output"></td></label>
                <label>Date<td id="date-output"></td></label>
                <label>Language<td id="language-output"></td></label>
                <label>Type<td id="radio-output"></td></label> -->
        </table>
    </div>
    
    <script>
        //book name
            var title = document.getElementById('Title-input');
            var ttl = document.getElementById('Title-check');
        //Writer
            var writer = document.getElementById('Writer-input');
            var wtr = document.getElementById('Writer-check');
        //Price
            var price = document.getElementById('Price-input');
            var prc = document.getElementById('Price-check');
        //date
            var date = document.getElementById('Date-input');
            var dt = document.getElementById('Date-check');
        //Language
            var select =document.getElementById('select')
            var slc =document.getElementById('slc')
        //check
            var radio = document.getElementsByClassName('radio')
            var rdo = document.getElementById('rdo')

        // Submit button
            function clic(){
                var ok = true
        // Title input    
                if (title.value == "" || title.value.length>30 || !isNaN(title.value)){
                    ttl.innerHTML =("✘")
                    ttl.style.color="red"
                    ok=false
                    title.style.borderColor="rgb(189, 0, 0)"
                    title.style.borderWidth="1.5px"
                    title.style.borderStyle="solid"
                }
                else {
                    ttl.innerHTML =("✔")
                    ttl.style.color="green"
                }
        // writer input
                if (writer.value == "" || writer.value.length>30 || !isNaN(writer.value)){
                    wtr.innerHTML =("✘")
                    wtr.style.color="red"
                    ok=false
                    writer.style.borderColor="rgb(189, 0, 0)"
                    writer.style.borderWidth="1.5px"
                    writer.style.borderStyle="solid"
                }
    
                else {
                    wtr.innerHTML =("✔")
                    wtr.style.color="green"
                }
        // Price input
                if (price.value == "" || isNaN(price.value)){
                    prc.innerHTML =("✘")
                    prc.style.color="red"
                    ok=false
                    price.style.borderColor="rgb(189, 0, 0)"
                    price.style.borderWidth="1.5px"
                    price.style.borderStyle="solid"
                }
                else {
                    prc.innerHTML =("✔")
                    prc.style.color="green"
                }
        // Date input
                if (date.value == ""){
                    dt.innerHTML =("✘")
                    dt.style.color="red"
                    ok=false
                    date.style.borderColor="rgb(189, 0, 0)"
                    date.style.borderWidth="1.5px"
                    date.style.borderStyle="solid"
                }
                else {
                    dt.innerHTML =("✔")
                    dt.style.color="green"
                }
        // Language input
                if(select.selectedIndex== "") {
                    slc.innerHTML =("✘")
                    slc.style.color="red"
                    ok=false
                    select.style.borderColor="rgb(189, 0, 0)"
                    select.style.borderWidth="1.5px"
                    select.style.borderStyle="solid"
                }
                else {
                    slc.innerHTML =("✔")
                    slc.style.color="green" 
                }
        // Book type input
                if(!(radio[0].checked || radio[1].checked || radio[2].checked)){
                    rdo.innerHTML =("✘")
                    rdo.style.color="red"
                    ok=false
                    radio.style.borderColor="rgb(189, 0, 0)"
                    radio.style.borderWidth="1.5px"
                    radio.style.borderStyle="solid"
                }
                else {
                    rdo.innerHTML =("✔")
                    rdo.style.color="green" 
                }


        // table
                if(ok){
                    var table = document.getElementById("tbl");
                    var row = table.insertRow(-1);
                    var myTitle = row.insertCell(0);
                    var myWriter = row.insertCell(1);
                    var myPrice = row.insertCell(2);
                    var myDate = row.insertCell(3);
                    var myLanguage = row.insertCell(4);
                    var myType = row.insertCell(5);
                    row.insertCell(6).innerHTML = " <input type='button' value='edit' onclick='edt(this)' class='edit' id='Edit'>" + 
                                                  " <input type='button' value='delete' onclick='dlt(this)' class='delete' id='delete'>";

        // Td rows
                    myTitle.innerHTML = title.value;
                    myWriter.innerHTML = writer.value;
                    myPrice.innerHTML = price.value;
                    myDate.innerHTML = date.value;
                    myLanguage.innerHTML = select.options[select.selectedIndex].value;

                    var temp_cell = "";
                    
                    for (var i=0; i<radio.length; i++){
                        if (radio[i].checked){
                            temp_cell = radio[i].value  
                        }
                    }

                    myType.innerHTML = temp_cell;

        // Reset the values
                    title.value = ""
                    writer.value = ""
                    price.value = ""
                    date.value = ""
                    select.value = ""
                     for (var i=0; i<radio.length; i++){
                         radio[i].checked = false
                     }
                }
                
            }
        // Edit row
            function edt(t) {
                selectedLine = t.parentElement.parentElement;
                if (t.value=="edit"){
                    document.getElementById('Title-input').value = selectedLine.cells[0].innerHTML;
                    document.getElementById('Writer-input').value = selectedLine.cells[1].innerHTML;
                    document.getElementById('Price-input').value = selectedLine.cells[2].innerHTML;
                    document.getElementById('Date-input').value = selectedLine.cells[3].innerHTML;
                    document.getElementById('select').value = selectedLine.cells[4].innerHTML;
                    for(j=0;j<radio.length;j++){
                    if(selectedLine.cells[5].innerHTML==radio[j].value){
                        radio[j].checked=true;
                        }
                     }

                    t.value = "update";
                    document.getElementById("btn").setAttribute("disabled", "true");
                }
                else {
                    selectedLine.cells[0].innerHTML = document.getElementById('Title-input').value;
                    selectedLine.cells[1].innerHTML = document.getElementById('Writer-input').value;
                    selectedLine.cells[2].innerHTML = document.getElementById('Price-input').value;
                    selectedLine.cells[3].innerHTML = document.getElementById('Date-input').value;
                    selectedLine.cells[4].innerHTML = document.getElementById('select').value;
                    for(j=0;j<radio.length;j++){
                    if( radio[j].checked=true){
                        selectedLine.cells[5].innerHTML=radio[j].value
                        }
                    }
                    t.value = "edit"
                    document.getElementById("btn").removeAttribute("disabled");
        // emptying the input
                title.value = ""
                writer.value = ""
                price.value = ""
                date.value = ""
                select.value = ""
                for (var i=0; i<radio.length; i++){
                    radio[i].checked = false
                }

                }

            }
            function dlt(d){

                    if(confirm('realy?')){
                        row = d.parentElement.parentElement;
                        document.getElementById("tbl").deleteRow(row.rowIndex);
                    }
                }
    
        </script>
</body>
</html>